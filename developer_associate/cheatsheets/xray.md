# X-Ray

- X-RAy helps devleopers analyze and debug apps that utilize microservice architecture
- a distributed tracing system, it is a method to used and profile and monitor apps, especially those built using a microservice architecture to pinpoint where failures occur and what causes poor performance
- X-Ray Daemon is a software application that listens for all traffic on UDP port 2000, gathers raw segment data, and relays it to AWS X-ray. data is generally not sent directly to X-Ray API, it passes through the X-ray daemon and uploads in bulk
- segments provide resources's name, details about the request and details about the work done
- subsegments provide more granular timing info and details about downstream calls that your app made to fulfill the orig request
- service graph is a flow chart visualization of avg response for microservices and to visually pinpoint failure
- traces collect all segments generated by a single request so you can track the path of requests through multiple services
- sampling is an algorithm that decides which requests should be traced. by default X-Ray SDK records the first request every second and 5% of any additional requests
- tracing header is named X-Amzn-Trace-Id and identifies a trace which passed along to downstream services
- filter expressions allows you to narrow down specific paths or users
- groups allow you to save filter expressions so you can quickly filter traces
- annotations and metadata allow you to capture additional information in key-value pairs
  - annotations are indexed for use with filter expressions with a limit of 50
  - metadata are not indexed, use metadata to record data you want to store in the trace but don't need to use for searching taces
- errors are 400/4xx errors
- faults are 500/5xx errors
- throttle is 429 too many requests
- X-Ray supports the following languages:
  - basically all posible languages
- support AWS service integration with the following:
  - lambda, api gateway, app mesh, cloudtrail, aws config, EB, ELB, SNS, SQS, EC2, ECS, Fargate
